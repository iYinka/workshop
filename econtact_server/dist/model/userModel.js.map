{"version":3,"file":"userModel.js","names":["_mongoose","_interopRequireDefault","require","_passportLocalMongoose","_mongooseFindorcreate","_passport","e","__esModule","Model","mongoose","Schema","reqString","type","String","required","reqUniqueString","unique","trim","lowercase","userSchema","name","email","password","googleId","facebookId","date","Date","now","timestamps","set","transform","document","returnedObject","id","_id","toString","__v","plugin","passportLocalMongoose","findOrCreate","User","model","passport","use","createStrategy","_default","exports"],"sources":["../../src/model/userModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport passportLocalMongoose from \"passport-local-mongoose\";\r\nimport findOrCreate from \"mongoose-findorcreate\";\r\nimport passport from \"passport\";\r\nconst { Model, Schema } = mongoose;\r\n\r\nconst reqString = {\r\n    type: String,\r\n    required: \"Please enter a value\",\r\n};\r\n\r\nconst reqUniqueString = {\r\n    type: String,\r\n    required: \"Please enter an email address\",\r\n\r\n    unique: true,\r\n    trim: true,\r\n    lowercase: true,\r\n};\r\n\r\nconst userSchema = new Schema(\r\n    {\r\n        name: reqString,\r\n        email: reqUniqueString,\r\n        password: reqString,\r\n        googleId: String,\r\n        facebookId: String,\r\n        date: {\r\n            type: Date,\r\n            default: Date.now,\r\n        },\r\n    },\r\n    { timestamps: true }\r\n);\r\n\r\nuserSchema.set(\"toJSON\", {\r\n    transform: (document, returnedObject) => {\r\n        returnedObject.id = returnedObject._id.toString();\r\n        delete returnedObject._id;\r\n        delete returnedObject.__v;\r\n        delete returnedObject.password;\r\n    },\r\n});\r\n\r\n//PLUGINs\r\nuserSchema.plugin(passportLocalMongoose); //FOR THE HASHING AND CRYPTING\r\nuserSchema.plugin(findOrCreate);\r\n\r\nconst User = mongoose.model(\"user\", userSchema);\r\npassport.use(User.createStrategy());\r\n\r\nexport default User;\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,sBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,qBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAChC,IAAQE,KAAK,GAAaC,oBAAQ,CAA1BD,KAAK;EAAEE,MAAM,GAAKD,oBAAQ,CAAnBC,MAAM;AAErB,IAAMC,SAAS,GAAG;EACdC,IAAI,EAAEC,MAAM;EACZC,QAAQ,EAAE;AACd,CAAC;AAED,IAAMC,eAAe,GAAG;EACpBH,IAAI,EAAEC,MAAM;EACZC,QAAQ,EAAE,+BAA+B;EAEzCE,MAAM,EAAE,IAAI;EACZC,IAAI,EAAE,IAAI;EACVC,SAAS,EAAE;AACf,CAAC;AAED,IAAMC,UAAU,GAAG,IAAIT,MAAM,CACzB;EACIU,IAAI,EAAET,SAAS;EACfU,KAAK,EAAEN,eAAe;EACtBO,QAAQ,EAAEX,SAAS;EACnBY,QAAQ,EAAEV,MAAM;EAChBW,UAAU,EAAEX,MAAM;EAClBY,IAAI,EAAE;IACFb,IAAI,EAAEc,IAAI;IACV,WAASA,IAAI,CAACC;EAClB;AACJ,CAAC,EACD;EAAEC,UAAU,EAAE;AAAK,CACvB,CAAC;AAEDT,UAAU,CAACU,GAAG,CAAC,QAAQ,EAAE;EACrBC,SAAS,EAAE,SAAAA,UAACC,QAAQ,EAAEC,cAAc,EAAK;IACrCA,cAAc,CAACC,EAAE,GAAGD,cAAc,CAACE,GAAG,CAACC,QAAQ,CAAC,CAAC;IACjD,OAAOH,cAAc,CAACE,GAAG;IACzB,OAAOF,cAAc,CAACI,GAAG;IACzB,OAAOJ,cAAc,CAACV,QAAQ;EAClC;AACJ,CAAC,CAAC;;AAEF;AACAH,UAAU,CAACkB,MAAM,CAACC,iCAAqB,CAAC,CAAC,CAAC;AAC1CnB,UAAU,CAACkB,MAAM,CAACE,gCAAY,CAAC;AAE/B,IAAMC,IAAI,GAAG/B,oBAAQ,CAACgC,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAC/CuB,oBAAQ,CAACC,GAAG,CAACH,IAAI,CAACI,cAAc,CAAC,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,cAErBN,IAAI","ignoreList":[]}